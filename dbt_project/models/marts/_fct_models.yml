version: 2

models:
  - name: fct_capitalization_audit
    description: "研发资本化审计事实表：计算每个项目每周的活动分布情况，并根据 CapEx/OpEx 比例触发审计预警。"
    columns:
      - name: project_id
        description: "业务主项目 ID"
        tests:
          - not_null
      - name: audit_week
        description: "审计归属周"
      - name: capitalization_rate
        description: "资本化率 (CapEx 活动占比)"
      - name: audit_status
        description: "人工审计建议状态 (e.g., AUDIT_READY, INSPECTION_REQUIRED)"

  - name: fct_dora_metrics
    description: "DORA 核心指标事实表：从自动化部署、代码变更及故障管理数据中计算出的交付效能指标。"
    columns:
      - name: project_id
        description: "业务主项目 ID"
      - name: deployment_frequency
        description: "部署频率：单位时间内发布的成功构建次数"
      - name: mtr_hours
        description: "故障平均恢复时长 (Mean Time to Restore)"

  - name: fct_project_delivery_health
    description: "项目交付健康度大屏：综合产出、质量、响应速度三个维度的加权评分模型。"
    columns:
      - name: project_id
        description: "业务主项目 ID"
      - name: health_score
        description: "健康度得分 (0-10)"

  - name: fct_delivery_costs
    description: "交付成本核算：结合人力工时单价与活动流分布，产出的细粒度研发投入明细。"
    columns:
      - name: total_cost
        description: "该项目在本周期内的总人力直接成本估算"

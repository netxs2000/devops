# Pylint 配置文件
# 遵循 Google Python Style Guide

[MASTER]
# 忽略的目录和文件
ignore=archived,dbt_packages,htmlcov,persistence_data,.git,.pytest_cache,.mypy_cache,migrations
ignore-patterns=test_.*?\.py,.*_test\.py

# 使用多进程加速
jobs=4

# Python 代码的最低版本
py-version=3.9

[MESSAGES CONTROL]
# 禁用的警告
disable=
    # 格式相关（由 black 处理）
    C0330,  # bad-continuation
    C0326,  # bad-whitespace
    # 过于严格的检查
    R0903,  # too-few-public-methods
    R0913,  # too-many-arguments
    R0914,  # too-many-locals
    # 文档字符串（在需要时单独检查）
    C0114,  # missing-module-docstring
    # 导入相关（某些情况下需要灵活处理）
    C0411,  # wrong-import-order
    # 其他
    W0511,  # fixme (TODO 注释)
    R0801,  # duplicate-code

[REPORTS]
# 输出格式
output-format=text

# 显示报告
reports=yes

# 评分
score=yes

[BASIC]
# Google Style Guide 命名规范
# 变量名：小写字母+下划线
variable-rgx=[a-z_][a-z0-9_]{0,30}$

# 常量名：大写字母+下划线
const-rgx=(([A-Z_][A-Z0-9_]*)|(__.*__))$

# 函数名：小写字母+下划线
function-rgx=[a-z_][a-z0-9_]{0,40}$

# 方法名：小写字母+下划线
method-rgx=[a-z_][a-z0-9_]{0,40}$

# 类名：大驼峰
class-rgx=[A-Z_][a-zA-Z0-9]+$

# 模块名：小写字母+下划线
module-rgx=(([a-z_][a-z0-9_]*)|([A-Z][a-zA-Z0-9]+))$

# 参数名：小写字母+下划线
argument-rgx=[a-z_][a-z0-9_]{0,30}$

# 属性名：小写字母+下划线
attr-rgx=[a-z_][a-z0-9_]{0,30}$

# 好的变量名
good-names=i,j,k,ex,Run,_,db,id,pk

# 坏的变量名
bad-names=foo,bar,baz,toto,tutu,tata

# 包含名字提示的正则表达式
include-naming-hint=yes

[FORMAT]
# 最大行长度
max-line-length=100

# 单行的最大字符数
single-line-if-stmt=no

# 缩进字符串
indent-string='    '

# 预期的缩进量
indent-after-paren=4

[DESIGN]
# 最大参数数量
max-args=8

# 最大本地变量数量
max-locals=20

# 最大返回数量
max-returns=6

# 最大分支数量
max-branches=15

# 最大语句数量
max-statements=60

# 最大属性数量
max-attributes=10

# 最少公共方法
min-public-methods=1

# 最大公共方法
max-public-methods=25

# 最大父类数量
max-parents=7

[IMPORTS]
# 允许的模块
allow-wildcard-with-all=no

# 分析导入的顺序
analyse-fallback-blocks=no

[CLASSES]
# 有效的元类名
valid-metaclass-classmethod-first-arg=mcs

# 有效的类方法的第一个参数名
valid-classmethod-first-arg=cls

# 排除的 protected 成员
exclude-protected=_asdict,_fields,_replace,_source,_make

[EXCEPTIONS]
# 可以捕获的异常
overgeneral-exceptions=builtins.Exception

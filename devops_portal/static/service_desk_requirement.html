<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>提交需求 - Service Desk</title>
    <meta name="description" content="提交功能需求或改进建议">
    <link href="css/main.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header class="u-p-24 u-w-full sd-header">
        <div class="u-flex u-flex-between u-mx-auto u-max-w-900">
            <div class="u-text-primary u-weight-700 u-text-h2">提交需求</div>
            <a href="service_desk.html" class="sd-nav-link">← 返回服务台</a>
        </div>
    </header>

    <main class="u-mx-auto u-p-40 u-max-w-900">
        <div class="u-text-center u-mb-40">
            <h1 class="u-text-primary u-mb-10 u-text-display">需求提交</h1>
            <p class="u-text-dim u-text-h3">分享您的想法 and 建议，帮助我们打造更好的产品</p>
        </div>

        <div id="alertBox" class="alert"></div>

        <div class="g-card u-p-40">
            <div id="reporterSection" class="sd-reporter-info u-hide">
                <div class="sd-reporter-avatar u-flex u-flex-center" id="reporterAvatar">?</div>
                <div>
                    <div class="u-text-dim u-text-tiny u-uppercase u-ls-05">
                        报告人</div>
                    <div id="reporterName" class="u-weight-600 u-text-body">加载中...</div>
                </div>
            </div>

            <form id="requirementForm">
                <div class="u-mb-24">
                    <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">受影响的业务系统 <span
                            class="u-text-error">*</span></label>
                    <select id="mdmId" class="form-control" required>
                        <option value="">正在加载项目列表...</option>
                    </select>
                    <div class="u-text-dim u-mt-8 u-text-caption">请选择您提出建议的业务系统名称</div>
                </div>

                <div class="u-mb-24">
                    <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">需求标题 <span
                            class="u-text-error">*</span></label>
                    <input type="text" id="title" class="form-control" required placeholder="简要描述您的需求">
                </div>

                <div class="u-mb-24">
                    <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">需求详细描述 <span
                            class="u-text-error">*</span></label>
                    <textarea id="description" class="form-control u-h-150" required
                        placeholder="请详细描述您的需求：&#10;- 背景和目的&#10;- 具体功能点&#10;- 预期效果&#10;- 其他补充说明"></textarea>
                    <div class="u-text-dim u-mt-8 u-text-caption">描述越详细，我们越能准确理解您的需求</div>
                </div>

                <div class="adm-grid-form u-mb-24">
                    <div>
                        <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">需求类型 <span
                                class="u-text-error">*</span></label>
                        <select id="reqType" class="form-control" required>
                            <option value="">请选择</option>
                            <option value="feature">新功能（Feature）</option>
                            <option value="enhancement">功能增强（Enhancement）</option>
                            <option value="bugfix">缺陷修复（Bugfix）</option>
                        </select>
                    </div>
                    <div>
                        <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">优先级</label>
                        <select id="priority" class="form-control">
                            <option value="P0">P0 - 紧急</option>
                            <option value="P1">P1 - 高</option>
                            <option value="P2" selected>P2 - 中</option>
                            <option value="P3">P3 - 低</option>
                        </select>
                    </div>
                </div>

                <div class="adm-grid-form u-mb-24">
                    <div>
                        <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">省份/地域</label>
                        <input type="text" id="province" class="form-control" value="nationwide"
                            placeholder="例如：广东、nationwide">
                    </div>
                    <div>
                        <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">期望交付时间</label>
                        <input type="date" id="expectedDelivery" class="form-control">
                        <div class="u-text-dim u-mt-8 u-text-caption">可选，仅供参考</div>
                    </div>
                </div>

                <div class="u-mb-32">
                    <label class="u-text-dim u-weight-500 u-mb-8 u-block u-text-body">需求原型/说明附件</label>
                    <div id="uploadArea" class="sd-upload-area">
                        <div class="u-text-primary u-mb-10 u-text-h1">📄</div>
                        <div class="u-weight-600">点击或拖拽需求文档至此处上传</div>
                        <div class="u-text-dim u-mt-8 u-text-caption">支持 PDF, Word, 图片等</div>
                        <input type="file" id="fileInput" class="u-hide" multiple>
                    </div>
                    <div id="filePreview" class="g-grid-fill-120">
                    </div>
                </div>

                <button type="submit" class="btn-primary u-w-full u-p-16 u-text-h3" id="submitBtn">
                    提交需求
                </button>
            </form>
        </div>
    </main>

    <footer class="u-p-24 u-text-center u-text-dim sd-footer u-mt-48">
        <p>© 2025 TJHQ</p>
    </footer>

    <!-- Scripts -->
    <script src="js/modules/sd_portal.js" type="module"></script>
</body>

</html>

</html>